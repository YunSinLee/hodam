# 🧪 소셜 로그인 테스트 가이드

## 테스트 시나리오

### 1. 신규 사용자 회원가입

- [ ] 카카오 로그인 버튼 클릭
- [ ] 카카오 로그인 페이지로 리다이렉트
- [ ] 카카오 계정으로 로그인
- [ ] `/auth/callback`으로 리다이렉트
- [ ] 메인 페이지로 자동 이동
- [ ] NavBar에 사용자 정보 표시
- [ ] 곶감 초기화 (10개)

### 2. 기존 사용자 로그인

- [ ] 구글 로그인 버튼 클릭
- [ ] 구글 로그인 페이지로 리다이렉트
- [ ] 구글 계정으로 로그인
- [ ] 기존 곶감 개수 유지

### 3. 에러 처리

- [ ] 로그인 취소 시 적절한 메시지
- [ ] 네트워크 오류 시 에러 처리
- [ ] 중복 클릭 방지

### 4. 로그아웃

- [ ] 로그아웃 버튼 클릭
- [ ] 세션 정리
- [ ] 로그인 페이지로 리다이렉트

## 확인사항

### 데이터베이스

```sql
-- 새 사용자가 users 테이블에 자동 생성되는지 확인
SELECT * FROM users ORDER BY created_at DESC LIMIT 5;

-- 곶감이 자동 초기화되는지 확인
SELECT * FROM bead ORDER BY created_at DESC LIMIT 5;
```

### 브라우저 개발자 도구

- [ ] 콘솔에 에러 없음
- [ ] 네트워크 탭에서 API 호출 성공
- [ ] 로컬 스토리지/세션 스토리지 정리

### 다양한 환경

- [ ] Chrome, Safari, Firefox 테스트
- [ ] 모바일 브라우저 테스트
- [ ] 시크릿 모드 테스트

## 문제 해결

### 자주 발생하는 문제

1. **리다이렉트 무한 루프**: Site URL 설정 확인
2. **사용자 정보 없음**: 트리거 함수 작동 확인
3. **곶감 초기화 안됨**: bead API 호출 확인

### 디버깅 명령어

```bash
# 로그 확인
npm run dev

# 데이터베이스 상태 확인
# Supabase 대시보드 > Table Editor
```
